<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>面板</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no"/>
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="//cdn.jsdelivr.net/npm/editor.md@1.5.0/css/editormd.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/layui@2.6.8/dist/css/layui.css">
    <link href="/static/admin/static/css/main.css?v=#(version)" rel="stylesheet"/>
    <link href="/static/public/css/ckEditor.css?v=#(version)" rel="stylesheet"/>
    <link href="/static/admin/pages/page/css/page_create.css?v=#(version)" rel="stylesheet"/>
</head>
<body class="layui-layout-body">
<div class="p-container">
    <div class="layui-row">
        <form class="layui-form" action="">
            <div class="layui-input-inline"  style="display: none;">
                <select lay-verify="" type="hidden"></select>
            </div>
            <div class="layui-col-xs12 layui-col-sm12 layui-col-md8">
                <div class="layui-card">
                    <div class="layui-card-body">
                        <input type="hidden" name="id" value="#(article.id)">
                        <div class="layui-form-item">
                            <span class="p-form-tip">标题:</span>
                            <input type="text" name="title" value="#(article.title)" required lay-verify="required"
                                   placeholder="请输入标题" autocomplete="off" class="layui-input">
                        </div>
                        <input type="hidden" id="editorMode" name="editorMode" required lay-verify="required" autocomplete="off" class="layui-input" value="#(article.contentModel)">

                        <div class="layui-form-item" style="margin: 0">
                            <span class="p-form-tip">内容:</span>
                            <a href="javascript:;" class="switchEditor" onclick="switchEditor()"></a>
                        </div>
                        <div id="editorBox">
                            <textarea id="articleContent" style="display: none">#(article.content)</textarea>
                            <div id="editor">

                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="layui-col-xs12 layui-col-sm12 layui-col-md4 p-container-right">
                <div class="layui-card">
                    <div class="layui-card-header">
                        <div class="p-article-btn-box">
                            <button type="button" lay-submit lay-filter="publishForm"
                                    class="layui-btn layui-btn-normal">发布
                            </button>
                            <button type="button" lay-submit lay-filter="draftForm" class="layui-btn layui-btn-primary">
                                保存到草稿箱
                            </button>
                        </div>
                    </div>
                    <div class="layui-card-body">

                        <div class="layui-form-item">
                            <span class="p-form-tip">访问地址别名:</span>
                            <input type="text" name="slug" id="slug" value="#(article.slug??)" onchange="updatePageUrl()" placeholder="请输入别名,为空则采用ID作为别名" autocomplete="off" class="layui-input">
                            <div style="color: #5e6062;">#(WEB_SITE)/page/<span id="pageUrl">#(article.slug??)</span></div>
                        </div>

                        <div class="layui-form-item">
                            <span class="p-form-tip">分类:</span>
                            <div id="category"></div>
                        </div>

                        <div class="layui-form-item">
                            <span class="p-form-tip">标签:</span>
                            <div id="tag"></div>
                        </div>

                        <div class="layui-form-item">
                            <span class="p-form-tip">摘要:</span>
                            <textarea name="summary" placeholder="请输入摘要" class="article-textarea layui-textarea"
                                      style="resize: none">#(article.summary??)</textarea>
                        </div>

                        <div class="layui-form-item">
                            <span class="p-form-tip">SEO关键字:</span>
                            <input type="text" name="metaKeywords" placeholder="请输入SEO关键字" autocomplete="off"
                                   class="layui-input" value="#(article.metaKeywords??)">
                        </div>

                        <div class="layui-form-item">
                            <span class="p-form-tip">SEO描述:</span>
                            <textarea name="metaDescription" placeholder="请输入SEO描述"
                                      class="layui-textarea article-textarea"
                                      style="resize: none">#(article.metaDescription??)</textarea>
                        </div>

                        <div class="layui-form-item article-switch">
                            <span class="p-form-tip">允许评论:</span>
                            <input type="checkbox" name="isComment" lay-text="允许|不允许" lay-skin="switch"
                                   #(article.isComment == 1 ? 'checked': '')>

                            <input type="hidden" name="isTop" value="0">
                        </div>

                        <div class="layui-form-item">
                            <span class="p-form-tip">缩略图:</span>
                            <div class="p-upload-box" id="thumbnail">
                                <input type="hidden" name="thumbnail" value="#(article.thumbnail??)">
                            </div>
                        </div>
                        <input type="hidden" name="type" value="page">
                        <input value="#for(tag : article.tags??)#(tag.id??),#end" id="tagsValue" type="hidden">
                        <input value="#(article.categoryId??)" id="categoryIdValue" type="hidden">
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<script src="//cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/editor.md@1.5.0/editormd.min.js"></script>
<script src="//cdn.jsdelivr.net/gh/perfree/ckEditor5@v0.0.3/build/ckeditor.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/layui@2.6.8/dist/layui.js"></script>
<script src="/static/public/js/main.js?v=#(version)"></script>
<script src="/static/admin/static/js/editor.js?v=#(version)"></script>
<script src="/static/admin/pages/page/js/page_update.js?v=#(version)"></script>
</body>
</html>