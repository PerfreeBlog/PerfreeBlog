import{m as Q}from"./menu-Zv2FujxN.js";import{r as c,a0 as S,l as C,a as r,y as A,b as o,d as W,f as e,w as a,u,j as z,n as G,k as t,D as H,e as J,h as N,E as K,s as X,q as Y}from"./index-sKYmNANA.js";import{g as Z,s as $}from"./codegen-j_R_Bm1T.js";const ee={class:"page"},le={style:{"text-align":"center","margin-top":"15px"}},de={__name:"CodegenEditConfig",setup(ae){let V=c("base");const g=S(),p=c({id:"",scene:0,moduleName:"",className:"",classComment:"",author:"",parentMenuId:"-1"}),D=C({name:[{required:!0,message:"请输入角色名称",trigger:"blur"}],code:[{required:!0,message:"请输入角色编码",trigger:"blur"}]}),j=c();let w=c([]),k=c([]),h=c(!1);const B=C({children:"children",label:"name",value:"id"});function I(){Q({type:1}).then(s=>{k.value=[{id:"-1",name:"主类目",children:G(s.data,"id","pid","children","-1")}]})}function O(){h.value=!0,Z(g.params.id).then(s=>{s.code===200&&(p.value=s.data.codegenTable,w.value=s.data.codegenColumnList,h.value=!1)})}function q(){let s={codegenTable:p.value,codegenColumnList:w.value};$(s).then(m=>{m.code===200&&(K.success("配置成功"),U())})}function U(){X(g.fullPath),Y("","/admin/codegen","")}return I(),O(),(s,m)=>{const n=r("el-option"),y=r("el-select"),_=r("el-form-item"),b=r("el-col"),F=r("el-tree-select"),f=r("el-input"),L=r("el-row"),M=r("el-form"),T=r("el-tab-pane"),i=r("el-table-column"),v=r("el-checkbox"),R=r("el-table"),x=r("el-button"),E=r("el-tabs"),P=A("loading");return o(),W("div",ee,[e(E,{modelValue:u(V),"onUpdate:modelValue":m[5]||(m[5]=l=>z(V)?V.value=l:V=l)},{default:a(()=>[e(T,{label:"基础信息",name:"base"},{default:a(()=>[e(M,{ref_key:"baseFormRef",ref:j,model:u(p),"label-width":"80px","status-icon":"",rules:u(D)},{default:a(()=>[e(L,{gutter:24},{default:a(()=>[e(b,{span:12},{default:a(()=>[e(_,{label:"生成场景",prop:"scene"},{default:a(()=>[e(y,{modelValue:u(p).scene,"onUpdate:modelValue":m[0]||(m[0]=l=>u(p).scene=l),placeholder:"请选择生成场景",style:{width:"240px"}},{default:a(()=>[(o(),t(n,{key:0,label:"后台代码",value:0})),(o(),t(n,{key:1,label:"插件代码",value:1}))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(b,{span:12},{default:a(()=>[e(_,{label:"父级菜单",prop:"parentMenuId"},{default:a(()=>[e(F,{modelValue:u(p).parentMenuId,"onUpdate:modelValue":m[1]||(m[1]=l=>u(p).parentMenuId=l),data:u(k),props:u(B),"check-strictly":"","render-after-expand":!1,style:{width:"240px"},clearable:""},null,8,["modelValue","data","props"])]),_:1})]),_:1}),e(b,{span:12},{default:a(()=>[e(_,{label:"模块名称",prop:"moduleName"},{default:a(()=>[e(f,{modelValue:u(p).moduleName,"onUpdate:modelValue":m[2]||(m[2]=l=>u(p).moduleName=l),placeholder:"请输入模块名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:12},{default:a(()=>[e(_,{label:"类名称",prop:"className"},{default:a(()=>[e(f,{modelValue:u(p).className,"onUpdate:modelValue":m[3]||(m[3]=l=>u(p).className=l),placeholder:"请输入类名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:12},{default:a(()=>[e(_,{label:"作者",prop:"author"},{default:a(()=>[e(f,{modelValue:u(p).author,"onUpdate:modelValue":m[4]||(m[4]=l=>u(p).author=l),placeholder:"请输入作者"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1}),e(T,{label:"字段配置",name:"column"},{default:a(()=>[H((o(),t(R,{data:u(w),style:{width:"100%",height:"100%"},"row-key":"id","max-height":"600px"},{default:a(()=>[e(i,{prop:"columnName",label:"字段名称","min-width":"100"}),e(i,{prop:"dataType",label:"字段类型","min-width":"100"}),e(i,{prop:"columnComment",label:"字段描述","min-width":"120"},{default:a(l=>[e(f,{modelValue:l.row.columnComment,"onUpdate:modelValue":d=>l.row.columnComment=d,placeholder:"字段描述"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{prop:"javaType",label:"java类型","min-width":"160"},{default:a(l=>[e(y,{modelValue:l.row.javaType,"onUpdate:modelValue":d=>l.row.javaType=d,placeholder:"java类型",style:{width:"160px"}},{default:a(()=>[(o(),t(n,{key:0,label:"Long",value:"Long"})),(o(),t(n,{key:1,label:"String",value:"String"})),(o(),t(n,{key:2,label:"Integer",value:"Integer"})),(o(),t(n,{key:3,label:"Double",value:"Double"})),(o(),t(n,{key:4,label:"BigDecimal",value:"BigDecimal"})),(o(),t(n,{key:5,label:"LocalDateTime",value:"LocalDateTime"})),(o(),t(n,{key:6,label:"Date",value:"Date"})),(o(),t(n,{key:7,label:"Boolean",value:"Boolean"}))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{prop:"javaField",label:"java字段名","min-width":"100"},{default:a(l=>[e(f,{modelValue:l.row.javaField,"onUpdate:modelValue":d=>l.row.javaField=d,placeholder:"java字段名"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{prop:"formOperation",label:"表单","min-width":"50"},{default:a(l=>[e(v,{modelValue:l.row.formOperation,"onUpdate:modelValue":d=>l.row.formOperation=d},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{prop:"listOperation",label:"列表","min-width":"50"},{default:a(l=>[e(v,{modelValue:l.row.listOperation,"onUpdate:modelValue":d=>l.row.listOperation=d},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{prop:"listQueryOperation",label:"查询","min-width":"50"},{default:a(l=>[e(v,{modelValue:l.row.listQueryOperation,"onUpdate:modelValue":d=>l.row.listQueryOperation=d},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{prop:"nullable",label:"允许空","min-width":"70"},{default:a(l=>[e(v,{modelValue:l.row.nullable,"onUpdate:modelValue":d=>l.row.nullable=d},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{prop:"formType",label:"表单类型","min-width":"100"},{default:a(l=>[e(y,{modelValue:l.row.formType,"onUpdate:modelValue":d=>l.row.formType=d,placeholder:"表单类型",style:{width:"100px"}},{default:a(()=>[(o(),t(n,{key:0,label:"文本框",value:0})),(o(),t(n,{key:1,label:"文本域",value:1})),(o(),t(n,{key:2,label:"单选框",value:2})),(o(),t(n,{key:3,label:"下拉框",value:3})),(o(),t(n,{key:4,label:"日期框",value:4}))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{prop:"queryType",label:"查询方式","min-width":"100"},{default:a(l=>[e(y,{modelValue:l.row.queryType,"onUpdate:modelValue":d=>l.row.queryType=d,placeholder:"查询方式",style:{width:"100px"}},{default:a(()=>[(o(),t(n,{key:0,label:"=",value:0})),(o(),t(n,{key:1,label:"!=",value:1})),(o(),t(n,{key:2,label:">=",value:2})),(o(),t(n,{key:3,label:"<=",value:3})),(o(),t(n,{key:4,label:"like",value:4})),(o(),t(n,{key:5,label:"NotNull",value:5})),(o(),t(n,{key:6,label:"BetWeen",value:6}))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])),[[P,u(h)]])]),_:1}),J("div",le,[e(x,{type:"primary",onClick:q},{default:a(()=>[N("提交")]),_:1}),e(x,{onClick:U},{default:a(()=>[N("返回")]),_:1})])]),_:1},8,["modelValue"])])}}};export{de as default};
