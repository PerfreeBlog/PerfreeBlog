import{r as s,aC as P,k as E,b as S,e,w as a,u,i as Q,a as o,j as t,H as A,d as H,f as C,m as W,p as z,n as G,B as J,v as K,s as X,q as Y,y as Z,E as $}from"./index-CihRDGxx.js";import{E as ee,a as le,v as ae}from"./el-table-column-CTu-3kzb.js";import{E as oe,a as te}from"./el-tab-pane-CsrvdZyE.js";import{h as ne,E as de}from"./perfree-nhCXPnWy.js";import{E as ue,a as me}from"./el-col-BEhwhFzy.js";import"./el-tree-HJbZURUt.js";import{E as re}from"./el-tree-select--kPYs3el.js";import{m as pe}from"./menu-Zv2FujxN.js";import{g as ie,s as se}from"./codegen-j_R_Bm1T.js";const ce={class:"page"},_e={style:{"text-align":"center","margin-top":"15px"}},Ue={__name:"CodegenEditConfig",setup(be){let f=s("base");const h=P(),r=s({id:"",scene:0,moduleName:"",className:"",classComment:"",author:"",parentMenuId:"-1"}),x=E({name:[{required:!0,message:"请输入角色名称",trigger:"blur"}],code:[{required:!0,message:"请输入角色编码",trigger:"blur"}]}),N=s();let v=s([]),g=s([]),w=s(!1);const B=E({children:"children",label:"name",value:"id"});function j(){pe({type:1}).then(i=>{g.value=[{id:"-1",name:"主类目",children:ne(i.data,"id","pid","children","-1")}]})}function D(){w.value=!0,ie(h.params.id).then(i=>{i.code===200&&(r.value=i.data.codegenTable,v.value=i.data.codegenColumnList,w.value=!1)})}function I(){let i={codegenTable:r.value,codegenColumnList:v.value};se(i).then(m=>{m.code===200&&(W.success("配置成功"),k())})}function k(){z(h.fullPath),G("","/admin/codegen","")}return j(),D(),(i,m)=>{const n=J,V=K,c=X,_=ue,O=re,b=Y,F=me,L=Z,T=te,p=ee,y=de,q=le,U=$,M=oe,R=ae;return o(),S("div",ce,[e(M,{modelValue:u(f),"onUpdate:modelValue":m[5]||(m[5]=l=>Q(f)?f.value=l:f=l)},{default:a(()=>[e(T,{label:"基础信息",name:"base"},{default:a(()=>[e(L,{ref_key:"baseFormRef",ref:N,model:u(r),"label-width":"80px","status-icon":"",rules:u(x)},{default:a(()=>[e(F,{gutter:24},{default:a(()=>[e(_,{span:12},{default:a(()=>[e(c,{label:"生成场景",prop:"scene"},{default:a(()=>[e(V,{modelValue:u(r).scene,"onUpdate:modelValue":m[0]||(m[0]=l=>u(r).scene=l),placeholder:"请选择生成场景",style:{width:"240px"}},{default:a(()=>[(o(),t(n,{key:0,label:"后台代码",value:0})),(o(),t(n,{key:1,label:"插件代码",value:1}))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(_,{span:12},{default:a(()=>[e(c,{label:"父级菜单",prop:"parentMenuId"},{default:a(()=>[e(O,{modelValue:u(r).parentMenuId,"onUpdate:modelValue":m[1]||(m[1]=l=>u(r).parentMenuId=l),data:u(g),props:u(B),"check-strictly":"","render-after-expand":!1,style:{width:"240px"},clearable:""},null,8,["modelValue","data","props"])]),_:1})]),_:1}),e(_,{span:12},{default:a(()=>[e(c,{label:"模块名称",prop:"moduleName"},{default:a(()=>[e(b,{modelValue:u(r).moduleName,"onUpdate:modelValue":m[2]||(m[2]=l=>u(r).moduleName=l),placeholder:"请输入模块名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(_,{span:12},{default:a(()=>[e(c,{label:"类名称",prop:"className"},{default:a(()=>[e(b,{modelValue:u(r).className,"onUpdate:modelValue":m[3]||(m[3]=l=>u(r).className=l),placeholder:"请输入类名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(_,{span:12},{default:a(()=>[e(c,{label:"作者",prop:"author"},{default:a(()=>[e(b,{modelValue:u(r).author,"onUpdate:modelValue":m[4]||(m[4]=l=>u(r).author=l),placeholder:"请输入作者"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1}),e(T,{label:"字段配置",name:"column"},{default:a(()=>[A((o(),t(q,{data:u(v),style:{width:"100%",height:"100%"},"row-key":"id","max-height":"600px"},{default:a(()=>[e(p,{prop:"columnName",label:"字段名称","min-width":"100"}),e(p,{prop:"dataType",label:"字段类型","min-width":"100"}),e(p,{prop:"columnComment",label:"字段描述","min-width":"120"},{default:a(l=>[e(b,{modelValue:l.row.columnComment,"onUpdate:modelValue":d=>l.row.columnComment=d,placeholder:"字段描述"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(p,{prop:"javaType",label:"java类型","min-width":"160"},{default:a(l=>[e(V,{modelValue:l.row.javaType,"onUpdate:modelValue":d=>l.row.javaType=d,placeholder:"java类型",style:{width:"160px"}},{default:a(()=>[(o(),t(n,{key:0,label:"Long",value:"Long"})),(o(),t(n,{key:1,label:"String",value:"String"})),(o(),t(n,{key:2,label:"Integer",value:"Integer"})),(o(),t(n,{key:3,label:"Double",value:"Double"})),(o(),t(n,{key:4,label:"BigDecimal",value:"BigDecimal"})),(o(),t(n,{key:5,label:"LocalDateTime",value:"LocalDateTime"})),(o(),t(n,{key:6,label:"Date",value:"Date"})),(o(),t(n,{key:7,label:"Boolean",value:"Boolean"}))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(p,{prop:"javaField",label:"java字段名","min-width":"100"},{default:a(l=>[e(b,{modelValue:l.row.javaField,"onUpdate:modelValue":d=>l.row.javaField=d,placeholder:"java字段名"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(p,{prop:"formOperation",label:"表单","min-width":"50"},{default:a(l=>[e(y,{modelValue:l.row.formOperation,"onUpdate:modelValue":d=>l.row.formOperation=d},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(p,{prop:"listOperation",label:"列表","min-width":"50"},{default:a(l=>[e(y,{modelValue:l.row.listOperation,"onUpdate:modelValue":d=>l.row.listOperation=d},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(p,{prop:"listQueryOperation",label:"查询","min-width":"50"},{default:a(l=>[e(y,{modelValue:l.row.listQueryOperation,"onUpdate:modelValue":d=>l.row.listQueryOperation=d},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(p,{prop:"nullable",label:"允许空","min-width":"70"},{default:a(l=>[e(y,{modelValue:l.row.nullable,"onUpdate:modelValue":d=>l.row.nullable=d},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(p,{prop:"formType",label:"表单类型","min-width":"100"},{default:a(l=>[e(V,{modelValue:l.row.formType,"onUpdate:modelValue":d=>l.row.formType=d,placeholder:"表单类型",style:{width:"100px"}},{default:a(()=>[(o(),t(n,{key:0,label:"文本框",value:0})),(o(),t(n,{key:1,label:"文本域",value:1})),(o(),t(n,{key:2,label:"单选框",value:2})),(o(),t(n,{key:3,label:"下拉框",value:3})),(o(),t(n,{key:4,label:"日期框",value:4}))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(p,{prop:"queryType",label:"查询方式","min-width":"100"},{default:a(l=>[e(V,{modelValue:l.row.queryType,"onUpdate:modelValue":d=>l.row.queryType=d,placeholder:"查询方式",style:{width:"100px"}},{default:a(()=>[(o(),t(n,{key:0,label:"=",value:0})),(o(),t(n,{key:1,label:"!=",value:1})),(o(),t(n,{key:2,label:">=",value:2})),(o(),t(n,{key:3,label:"<=",value:3})),(o(),t(n,{key:4,label:"like",value:4})),(o(),t(n,{key:5,label:"NotNull",value:5})),(o(),t(n,{key:6,label:"BetWeen",value:6}))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])),[[R,u(w)]])]),_:1}),H("div",_e,[e(U,{type:"primary",onClick:I},{default:a(()=>[C("提交")]),_:1}),e(U,{onClick:k},{default:a(()=>[C("返回")]),_:1})])]),_:1},8,["modelValue"])])}}};export{Ue as default};
